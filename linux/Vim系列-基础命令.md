[TOC]
# 三. 基本操作
Vim有三种工作模式，即`普通模式`、`视图模式`和`插入模式`。而视图和插入模式比较简单，大部分文档管理工作集中在普通模式下。
## 普通模式
**1. 插入操作**
插入 | 说明
  --|--
ｏ | 下方新启行
O | 上方新启行
ａ | 下个字符处
A | 行尾插入
I |	当前插入

**2. 移动操作**
移位 | 说明
  --|--
h |	向左
j |	向下
k |	向上
l |	向右

行内 | 说明
  --|--
0|行首
$|行尾

行定位 | 说明
  --|--
H| 屏顶
L| 屏底
gg |	首行
G |	尾行
nG|第n行

单词 | 说明        
  --|--             
w |	下一个词头 
e | 下一个词尾 
b |	上一个词头

翻页 | 说明
  --|--
Ctrl+d | 下半页
Ctrl+u |上半页

滚动 | 说明
  --|--
Ctrl+e/y |滚行
Ctrl+f/d | 滚屏

**3. 编辑操作**
复制 | 说明
--|--
y |复制选中
yy|复制行
nyy |复制n行
yw | 复制单词(截断)
yaw | 复制当前单词(含空格)
yiw | 复制当前单词(去空格)
nyw | 复制N个单词

粘贴 | 说明
--|--
P | 粘前面
p | 粘后面

剪切 | 说明
--|--
x|(向后)剪字符
X|(向前)剪字符
d|剪选中
dd | 剪切行
ndd | 剪N行
 d0或d^|剪前半行
 d$|剪后半行
 dG|剪后半文
 D|剪后半行

替换 | 说明
--|--
ncc|替换n行

撤销 | 说明
--|--
u|撤销
ctrl+r|反撤销

块编辑 | 说明
--|--
`{act}+i+块标识` |操作块内，如: `v+i+}`表示选择大括号块内的内容
`{act}+a+块标识` |操作整块，如`d+a+"`表示删除引号块(包括)所在内容

**4. 查找操作**
操作 | 说明
--|--
f{char}; |	行内搜索，分号表示重复
/ | 向下搜索，`n`、`N`上下翻,可使用正则，如`/nil$`表示找行尾的“nil”
? | 向上搜索，与`/`相反
*|搜索光标所在的单词


**5. 替换操作**
命令行 | 说明
--|--
`:%s/foo/bar/g`|全局,替换foo为bar
`:%s/foo/bar/gi`|忽略大小,替换foo为bar
`:1,3s/a/b/g`|将1至3行的所有a替换为b

```shell
#使用#作为分隔符,如:将当前行的字符串"a/"替换为"b/"
:s#a/#b/#

#找到包含字母a的行并删除
:g/a/d
  
#删除所有空行
:g/^$/d

#多个空格替换为一个空格
:s/ \+/ /g
```
```shell
X            删除光标所在前字符
dw            删除到下一个单词开头
de            删除到本单词末尾
dE            删除到本单词末尾包括标点在内
db            删除到前一个单词
dB            删除到前一个单词包括标点在内
```
**6. 其他操作**
操作 | 说明
--|--
`J`|连接
`<<`|左缩进
`>>`|右缩进
`~`|切换大小写

## 视图模式
撤销 | 说明
--|--
v|普通视图
V|行视图
o|收尾对调
ctrl+v|列模式
ggVG |全选


# 三. 寄存器

# 四. 宏操作


<br/>

# 五. 分屏操作
- 分屏有`ctrl+w`和`command`两种控制方式，`两种方式互补`构成了分屏的完成操作。

**1. 打开文件**
```shell
# 分屏打开多个文件 
$ vim -o[n] file1 [file2 ...]
```

**2. 文件分屏**
```txt
# =====CMD方式=====
:new [newfile]
:sv [FILENAME] #水平
:vs [FILENAME] #垂直

# =====CTRL方式=====
ctrl+w s  #水平
ctrl+w v  #垂直
```
**3. 关闭窗口**
```txt
# =====CMD方式=====
:only  #关闭其它
:q     #关闭当前
:qa    #关闭所有

# =====CTRL方式=====
ctrl+w o  #关闭其它
ctrl+w q  #关闭当前
```
**4. 切换光标**
```txt
ctrl+w h #向左
ctrl+w l #向右
ctrl+w k #向上
ctrl+w j #向下
ctrl+w w #下一个
ctrl+w p #上一个
```
**4. 移动窗口**
```txt
ctrl+w H #最左
ctrl+w L #最右
ctrl+w K #最上
ctrl+w J #最下
ctrl+w x #对调(与下一个)
```
**5. 调整尺寸**
```txt
ctrl+w + #(垂直)扩大
ctrl+w - #(垂直)缩小
ctrl+w > #(水平)扩大
ctrl+w < #(水平)缩小
ctrl+w = #等分
```


替换空行：`:g/^$/d`

# 行排序
http://blog.sina.com.cn/s/blog_4b1816550100k2ec.html
https://zhuanlan.zhihu.com/p/110650001
http://blog.huati365.com/a0dd6fcb6dd420ac

